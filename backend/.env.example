# Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5434/ai_pulse
DEFAULT_TIMEZONE=Asia/Taipei

# Security
APP_JWT_SECRET=replace_with_strong_random_secret
CORS_ALLOW_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
ADMIN_BOOTSTRAP_EMAIL=
ADMIN_ALLOWLIST_EMAILS=dkhong0729@gmail.com,yoshikuni2046@gmail.com

# Redis / WAF / Rate limit
REDIS_URL=
RATE_LIMIT_IP_PER_MIN=120
RATE_LIMIT_USER_PER_MIN=180
WAF_WINDOW_SEC=900
WAF_BLACKLIST_THRESHOLD=5
BLACKLIST_TTL_SEC=86400
# Optional custom WAF regex rules (use || as separator)
WAF_BLOCK_PATTERNS=

# Google OAuth (Gmail Login)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8000/auth/google/callback
FRONTEND_CALLBACK_URL=http://localhost:3000

# LLM (DeepSeek OpenAI-compatible)
DEEPSEEK_API_KEY=
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# Email (SendGrid)
EMAIL_PROVIDER=sendgrid
EMAIL_API_KEY=
EMAIL_FROM=no-reply@aiinsightpulse.com
EMAIL_REPLY_TO=
EMAIL_TRUST_ENV_PROXY=0
EMAIL_PROXY_URL=
EMAIL_UNSUBSCRIBE_MAILTO=
PUBLIC_API_BASE_URL=http://localhost:8000
SENDGRID_WEBHOOK_SECRET=

# Scheduler
INGEST_INTERVAL_HOURS=6
DIGEST_HOUR=8
DIGEST_MINUTE=0
DIGEST_TIMEZONE=Asia/Taipei
AUTO_START_SCHEDULER=1
SCHEDULER_CHECK_INTERVAL_SEC=30

# Window defaults
WINDOW_PAPER_PAST_DAYS=14
WINDOW_POST_PAST_DAYS=7
WINDOW_EVENT_FUTURE_DAYS=90
WINDOW_WEB_PAST_DAYS=7
WINDOW_WEB_FUTURE_DAYS=7

# Optional extra sources (comma separated)
MVP_EXTRA_SITES=

# Pipeline performance
MVP_HTTP_TIMEOUT=8
HTTP_MAX_RETRIES=2
HTTP_CACHE_TTL_HOURS=24
HTTP_TRUST_ENV_PROXY=0
MVP_MAX_ANCHORS_PER_SITE=400
MVP_MAX_ITEMS_PER_SITE=30
HN_LIMIT=25
REDDIT_SUBREDDITS=MachineLearning,artificial,LocalLLaMA
GITHUB_TRENDING_SINCE=daily
MVP_VERBOSE=1
MVP_SOURCE_CAP_EVENTS=12
MVP_SOURCE_CAP_INSIGHTS=5
SOURCE_UNHEALTHY_CONSECUTIVE_FAILURES=6
SOURCE_UNHEALTHY_COOLOFF_MINUTES=120
PROXY_POOL_URLS=
VC_SCOUT_SOURCES=
DD_COMPANY_MAX_PAGES=10
DD_COMPANY_MIN_PAGES=6
DD_COMPANY_MIN_RUNTIME_SEC=10
DD_COMPANY_CRAWL_MAX_SEC=45
DD_COMPANY_INTERNAL_MAX_DEPTH=2
DD_COMPANY_INTERNAL_MAX_LINKS=180
DD_COMPANY_SITEMAP_MAX_URLS=100
DD_COMPANY_EXTERNAL_MAX_URLS=24
DD_COMPANY_MAX_REGISTRY_PAGES=8
DD_COMPANY_MAX_EXTERNAL_PAGES=12
DD_COMPANY_ENABLE_WEB_SEARCH=1
DD_COMPANY_ALWAYS_WEB_SEARCH=1
DD_USE_DEEP_RESEARCH_AGENT=1
DD_DEEP_RESEARCH_SEARCH_PROVIDER=auto
DD_DEEP_RESEARCH_MAX_WORKERS=4
DD_DEEP_RESEARCH_URLS_PER_TASK=8
DD_DEEP_RESEARCH_MAX_PAGES_PER_TASK=6
DD_DEEP_RESEARCH_HTTP_TIMEOUT=10
TAVILY_API_KEY=
DD_DEEP_RESEARCH_USE_LANGCHAIN=0
VC_SCOUT_ENABLE_GOV_QUERY_PACK=1
VC_SCOUT_GOV_QUERY_CAP=12
CLEANUP_MIN_EVENT_SCORE=4.5
CLEANUP_MIN_INSIGHT_SCORE=4.0
CLEANUP_MAX_TITLE_LEN=220

# Observability
SENTRY_DSN=
SENTRY_ENV=development
SENTRY_TRACES_SAMPLE_RATE=0.1
PIPELINE_ALERT_WEBHOOK=
PIPELINE_NOTIFY_ON_SUCCESS=0
